<div class="dialog-content-wrapper">
    <mat-toolbar class="mat-accent">
        <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center">
            <span class="title">Send Merchant Link</span>
            <button mat-icon-button  aria-label="Close dialog" (click)="_dialogRef.close()">
                <mat-icon>close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>

    <div mat-dialog-content class="p-24">
        <form name="emailForm" fxLayout="column"  [formGroup]="emailForm">
           <div fxLayout="row" fxLayoutAlign="end" class="Cursorpointer">
    <button mat-icon-button  aria-label="CC" (click)="showCC = true" *ngIf="!showCC">Cc</button>
    <button mat-icon-button  aria-label="BCC" (click)="showBCC = true" *ngIf="!showBCC ">Bcc</button>
           </div> 
            <!-- <mat-form-field appearance="outline" >
                <mat-label>To</mat-label>
                <input type="email" matInput formControlName="SendTo"  required>  
            </mat-form-field>  -->

            <mat-form-field appearance="outline">
                <mat-label>To</mat-label>
                <mat-chip-list #chipList>
                  <mat-chip *ngFor="let to of emailObj.SendTo" [selectable]="selectable"
                           [removable]="removable" (remove)="remove(to,1)">
                    {{to.email}}
                    <mat-icon matChipRemove *ngIf="removable"
                     (click)="remove(to,1)">cancel</mat-icon>
                  </mat-chip>
                  <input 
                  formControlName="SendTo"
                  [matChipInputFor]="chipList"
                  [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                  (matChipInputTokenEnd)="add($event,1)" />
                </mat-chip-list>
                <!-- [matChipInputAddOnBlur]="addOnBlur" -->
              </mat-form-field>

            <!-- <mat-form-field appearance="outline" *ngIf="showCC">
                <mat-label>CC</mat-label>
                <input type="email" matInput formControlName="Cc" >  
            </mat-form-field>  -->


            <mat-form-field appearance="outline"  *ngIf="showCC">
                <mat-label>CC</mat-label>
                <mat-chip-list #chipList>
                  <mat-chip *ngFor="let cc of emailObj.Cc" [selectable]="selectable"
                           [removable]="removable" (remove)="remove(cc,2)">
                    {{cc.email}}
                    <mat-icon matChipRemove *ngIf="removable" (click)="remove(cc,2)">cancel</mat-icon>
                  </mat-chip>
                  <input 
                 
                  formControlName="Cc"
                  [matChipInputFor]="chipList"
                  [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                  (matChipInputTokenEnd)="add($event,2)" />
                </mat-chip-list>
                <!-- [matChipInputAddOnBlur]="addOnBlur" -->
              </mat-form-field>

            <!-- <mat-form-field appearance="outline" *ngIf="showBCC">
                <mat-label>Bcc</mat-label>
                <input  type="email" matInput formControlName="Bcc" >  
            </mat-form-field>  -->

            <mat-form-field appearance="outline"  *ngIf="showBCC">
                <mat-label>BCC

                </mat-label>
                <mat-chip-list #chipList>
                  <mat-chip *ngFor="let bcc of emailObj.Bcc" [selectable]="selectable"
                           [removable]="removable" (remove)="remove(bcc,3)">
                    {{bcc.email}}
                    <mat-icon matChipRemove *ngIf="removable" (click)="remove(bcc,3)">cancel</mat-icon>
                  </mat-chip>
                  <input 
                
                  formControlName="Bcc"
                  [matChipInputFor]="chipList"
                  [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                  (matChipInputTokenEnd)="add($event,3)" />
                </mat-chip-list>
                <!-- [matChipInputAddOnBlur]="addOnBlur" -->
              </mat-form-field>


            <mat-form-field appearance="outline">
            <mat-label>Subject</mat-label>
            <input matInput formControlName="Subject" readonly required>  
            </mat-form-field>  
            <mat-form-field appearance="outline" fxFlex.gt-sm="50" fxFlex.sm="50" [ngClass.sm]="'pr-4'" [ngClass.gt-sm]="'pr-4'">
                <mat-label>Message</mat-label>
                <textarea matInput rows="5" readonly>
          Hello,

          Thank you for signing up on Paynomix Inc. Youâ€™re almost ready to go! 
          Please fill out your application to complete the boarding process by
          clicking the following link.
          Launch Application
          We appreciate the opportunity to work with you.
          Paynomix Team.
                </textarea> 
            </mat-form-field>

        </form>
    </div>

    <div mat-dialog-actions class="px-24 py-12" fxLayout="row" fxLayoutAlign="end center">
        <button mat-raised-button class="mr-8 accent-alpha-bg" aria-label="CLOSE" (click)="_dialogRef.close()">Cancel</button>
<button mat-raised-button color="accent" class="save-button" aria-label="SAVE" (click)="sendEmail()">
            Send
        </button>
    </div>
</div>
